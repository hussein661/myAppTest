{"ast":null,"code":"import _regeneratorRuntime from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/square/square/square/projects/blissfull-final-project/front/src/pages/Blog.js\";\nimport React from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { Link } from 'react-router-dom';\nimport Pagination from '../components/Pagination';\n\nvar Blog =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Blog, _React$Component);\n\n  function Blog() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Blog);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Blog)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      allposts: [],\n      currentPosts: [],\n      currentPage: null,\n      totalPages: null\n    };\n\n    _this.onPageChanged = function (data) {\n      var allposts = _this.state.allposts;\n      var currentPage = data.currentPage,\n          totalPages = data.totalPages,\n          pageLimit = data.pageLimit;\n      var offset = (currentPage - 1) * pageLimit;\n      var currentPosts = allposts.slice(offset, offset + pageLimit);\n\n      _this.setState({\n        currentPage: currentPage,\n        currentPosts: currentPosts,\n        totalPages: totalPages\n      });\n    };\n\n    _this.getAllPosts =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, answer, allposts;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"http://localhost:5000/posts/allposts\");\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              answer = _context.sent;\n\n              if (answer) {\n                allposts = answer.result;\n\n                _this.setState({\n                  allposts: allposts\n                });\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    return _this;\n  }\n\n  _createClass(Blog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAllPosts();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(Pagination, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), this.state.allposts.map(function (post) {\n        return React.createElement(\"div\", {\n          className: \"blogcard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"thumbnail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"left\",\n          alt: \"author\",\n          src: post.image,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"blogtitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, post.title), React.createElement(\"div\", {\n          className: \"blogauthor\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: \"post header\",\n          src: post.image,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }), React.createElement(\"h2\", {\n          className: \"blogauthorname\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, post.author)), React.createElement(\"div\", {\n          className: \"separator\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          className: \"blogtext\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, post.content)), React.createElement(\"h6\", {\n          className: \"blogmonth\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, post.date), React.createElement(Link, {\n          to: \"/posts/\".concat(post.id),\n          className: \"fa fa-arrow-down fa-3x readmore\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \" \"));\n      }), React.createElement(\"button\", {\n        title: \"scroll up\",\n        id: \"scroll\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Blog;\n}(React.Component);\n\nexport default Blog;","map":{"version":3,"sources":["/home/square/square/square/projects/blissfull-final-project/front/src/pages/Blog.js"],"names":["React","Header","Footer","Link","Pagination","Blog","state","allposts","currentPosts","currentPage","totalPages","onPageChanged","data","pageLimit","offset","slice","setState","getAllPosts","fetch","response","json","answer","result","map","post","image","title","author","content","date","id","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { Link } from 'react-router-dom'\nimport Pagination from '../components/Pagination'\n\n\n\n\nclass Blog extends React.Component {\n\n  state = {\n    allposts: [],\n    currentPosts: [],\n    currentPage: null,\n    totalPages: null\n  }\n\n  onPageChanged = data => {\n    const { allposts } = this.state;\n    const { currentPage, totalPages, pageLimit } = data;\n\n    const offset = (currentPage - 1) * pageLimit;\n    const currentPosts = allposts.slice(offset, offset + pageLimit);\n\n    this.setState({ currentPage, currentPosts, totalPages });\n  };\n\n  getAllPosts = async () => {\n\n    const response = await fetch(`http://localhost:5000/posts/allposts`)\n    const answer = await response.json()\n    if (answer) {\n      const allposts = answer.result;\n      this.setState({ allposts })\n    }\n  }\n\n  componentDidMount() {\n    this.getAllPosts();\n  }\n\n  render() {\n\n    return (\n      <div>\n        <Header />\n        <Pagination />\n        {this.state.allposts.map(post =>\n\n          <div className=\"blogcard\">\n            <div className=\"thumbnail\"><img className=\"left\" alt=\"author\" src={post.image} /></div>\n            <div className=\"right\">\n              <h1 className=\"blogtitle\">{post.title}</h1>\n              <div className=\"blogauthor\"><img alt=\"post header\" src={post.image} />\n                <h2 className=\"blogauthorname\">{post.author}</h2>\n              </div>\n              <div className=\"separator\"></div>\n              <p className=\"blogtext\">{post.content}</p>\n            </div>\n            <h6 className=\"blogmonth\">{post.date}</h6>\n\n            <Link to={`/posts/${post.id}`} className=\"fa fa-arrow-down fa-3x readmore\"> </Link>\n          </div>\n\n        )}\n        <button title=\"scroll up\" id=\"scroll\"><span></span></button>\n\n        <Footer />\n      </div>\n    )\n\n  }\n}\n\nexport default Blog;\n"]},"metadata":{},"sourceType":"module"}