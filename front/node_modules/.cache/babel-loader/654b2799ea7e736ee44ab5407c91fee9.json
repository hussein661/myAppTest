{"ast":null,"code":"import _regeneratorRuntime from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/square/square/square/projects/blissfull-final-project/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/square/square/square/projects/blissfull-final-project/front/src/ControllerCMS/UsersOrders.js\";\nimport React, { Component } from 'react';\nimport { ToastContainer, toast } from \"react-toastify\";\n\nvar UsersOrders =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UsersOrders, _Component);\n\n  function UsersOrders() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UsersOrders);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UsersOrders)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      orders: []\n    };\n    _this.getAllOrders =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, answer, orders;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"http://localhost:5000/orders/allorders\");\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              answer = _context.sent;\n\n              if (answer) {\n                orders = answer.result;\n\n                _this.setState({\n                  orders: orders\n                });\n\n                toast(\"orders loaded\");\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.deleteOrder =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(id) {\n        var response, answer, orders;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(\"http://localhost:5000/orders/deleteOrder/\".concat(id));\n\n              case 2:\n                response = _context2.sent;\n                _context2.next = 5;\n                return response.json();\n\n              case 5:\n                answer = _context2.sent;\n\n                if (answer) {\n                  orders = _this.state.orders.filter(function (order) {\n                    return order.id !== id;\n                  });\n                  toast(\"cake deleted\");\n\n                  _this.setState({\n                    orders: orders\n                  });\n                }\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(UsersOrders, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAllOrders();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (localStorage.getItem(\"token\") !== \"null\") {\n        return React.createElement(\"div\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"myPar controlall\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, \"Users Orders\")), React.createElement(\"div\", {\n          className: \"linkdivs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"controllerNavigation\",\n          href: \"/control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, \"Back to Control Panel\")), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, this.state.orders.map(function (order) {\n          return React.createElement(\"div\", {\n            className: \"orderslist\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, \"Date : \", order.date), React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, \"order number : \", order.id || \"\", \" \"), React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, \"ordered  by  : \", order.username || \"\"), React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, \"Phone number : \", order.number || \"\"), React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, \"Address  :\", order.address || \"\"), React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, \"ordered : \", order.userorder || \"\"), React.createElement(\"button\", {\n            onClick: function onClick() {\n              return _this2.deleteOrder(order.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, \"Delete order\"));\n        }), React.createElement(ToastContainer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        })));\n      } else {\n        return React.createElement(\"h1\", {\n          className: \"notauth\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, \"Not Authorized\");\n      }\n    }\n  }]);\n\n  return UsersOrders;\n}(Component);\n\nexport default UsersOrders;","map":{"version":3,"sources":["/home/square/square/square/projects/blissfull-final-project/front/src/ControllerCMS/UsersOrders.js"],"names":["React","Component","ToastContainer","toast","UsersOrders","state","orders","getAllOrders","fetch","response","json","answer","result","setState","deleteOrder","id","filter","order","localStorage","getItem","map","date","username","number","address","userorder"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ToastContainer, toast } from \"react-toastify\";\n\nclass UsersOrders extends Component {\n\n  state = {\n    orders:[]\n  }\n\n\n\n  getAllOrders = async () => {\n\n    const response = await fetch(\n      `http://localhost:5000/orders/allorders`\n    );\n    const answer = await response.json();\n    if (answer) {\n      const orders = answer.result;\n      this.setState({ orders });\n      toast(\"orders loaded\")\n    }\n\n  };\n\n    componentDidMount() {\n      this.getAllOrders();\n    }\n\n\n    deleteOrder = async id =>{\n      const response = await fetch(`http://localhost:5000/orders/deleteOrder/${id}`)\n      const answer = await response.json()\n      if (answer) {\n        const orders = this.state.orders.filter(\n          order => order.id !== id\n        );\n        toast(`cake deleted`);\n        this.setState({ orders });\n      }\n\n    }\n\n\n  \n  render() {\n    if (localStorage.getItem(\"token\") !== \"null\") {\n      return (\n        <div className=\"\">\n        <div className=\"myPar controlall\">\n        <h1>Users Orders</h1>\n      </div>\n      <div className=\"linkdivs\">\n        <a className=\"controllerNavigation\" href=\"/control\">Back to Control Panel</a>\n      </div>\n        <div>\n  \n         {this.state.orders.map(order=>\n         <div className=\"orderslist\">\n           <h4>Date : {order.date}</h4>\n           <h4>order number : {order.id || \"\"} </h4>\n           <h4>ordered  by  : {order.username || \"\"}</h4>\n           <h4>Phone number : {order.number || \"\"}</h4>\n           <h4>Address  :{order.address || \"\"}</h4>\n           <h4>ordered : {order.userorder || \"\"}</h4>\n           <button onClick={()=>this.deleteOrder(order.id)}>Delete order</button>\n  \n          </div>\n         )}\n        \n        \n        <ToastContainer />\n        </div>\n      </div>)\n    }else {\n      return (\n        <h1 className=\"notauth\">Not Authorized</h1>\n      )\n    }\n\n  \n       }}\n\nexport default UsersOrders;"]},"metadata":{},"sourceType":"module"}